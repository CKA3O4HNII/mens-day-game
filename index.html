<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Мужской Альянс: Эпоха Стали и Огня</title>
  <!-- Preload stylesheet to prioritize rendering, keep regular link for compatibility -->
  <link rel="preload" href="styles.css" as="style">
  <link rel="stylesheet" href="styles.css">
  <!-- Small inline data-URI favicon to avoid browser requesting /favicon.ico and causing 404 noise -->
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect width='16' height='16' fill='%23222'/><text x='8' y='11' font-size='8' fill='%23fff' text-anchor='middle' alignment-baseline='central'>MD</text></svg>">
</head>
<body>
  <div id="ui">
    <div id="topbar">
      <h1>Мужской Альянс: Эпоха Стали и Огня</h1>
      <div id="topCounters">
        <div class="counter" id="counterWood">Дерево: <span class="val">0</span></div>
        <div class="counter" id="counterStone">Камень: <span class="val">0</span></div>
        <div class="counter" id="counterIron">Железо: <span class="val">0</span></div>
        <div class="counter" id="counterPop">Люди: <span class="val">0</span></div>
        <div class="counter" id="counterCity">Город: <span class="val">L1</span></div>
      </div>
      <div id="controls">
        <button id="saveBtn">Сохранить</button>
        <button id="loadBtn">Загрузить</button>
        <button id="missionsBtn">Миссии</button>
      </div>
    </div>
  </div>

  <aside id="sidebar">
    <div id="sidebarHeader">Постройки</div>
    <div id="buildingList" role="list"></div>
    <div id="buildingInfo">
      <h3 id="biName">Выберите здание</h3>
      <div id="biCost" class="small"></div>
      <div id="biBonuses" class="small"></div>
      <button id="cancelPlace" class="small hidden">Отменить размещение</button>
    </div>
  </aside>

  <div id="game">
    <div id="gridContainer">
      <div id="grid"></div>
    </div>
  </div>

  <div id="placementHint" class="hidden">Режим размещения: выберите клетку на карте или нажмите «Отменить размещение»</div>

  <!-- Loading / error overlay -->
  <div id="loadingOverlay">
    <div class="loader">
      <div class="spinner"></div>
      <div class="loader-text">Загрузка игры...</div>
    </div>
    <div id="errorBox" class="hidden">
      <div id="errorTitle">Ошибка загрузки</div>
      <pre id="errorMsg"></pre>
      <button id="errorReload">Перезагрузить</button>
    </div>
  </div>

  <!-- Action log (user-visible) -->
  <div id="actionLog" class="action-log" aria-live="polite"></div>

  <!-- Battle modal / view -->
  <div id="battleModal" class="hidden">
    <div id="battleUI">
      <button id="closeBattle">Закрыть миссию</button>
      <div id="battleGrid"></div>
      <div id="battleLog"></div>
    </div>
  </div>

  <script src="game.js" type="module"></script>
</body>
</html>
